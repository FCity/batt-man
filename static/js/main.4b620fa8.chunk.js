(this["webpackJsonpbatt-man"]=this["webpackJsonpbatt-man"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(17),i=c.n(a),r=c(4),l=c(8),o=c(2),j=c(0);function d(e){var t=Object(n.useContext)(p),c=t.devices,s=t.setDevices,a=t.getDevices,i=t.darkTheme,r=f(),o=function(e){s((function(t){return t.filter((function(t){return t.id!==e}))})),localStorage.removeItem("device-".concat(e))},d=function(){return i?"bg-dark text-white":""};return Object(j.jsxs)("div",{className:"devices-table",children:[Object(j.jsx)("h3",{children:"Devices:"}),r>666?Object(j.jsxs)("table",{className:"table "+d(),children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Room"}),Object(j.jsx)("th",{children:"Expires"}),"home"!==e.page&&Object(j.jsx)("th",{children:"Actions"})]})}),Object(j.jsx)("tbody",{children:c&&c.map((function(t){return Object(j.jsxs)("tr",{className:"device",children:[Object(j.jsx)("td",{children:t.type}),Object(j.jsx)("td",{children:t.name||"no name"}),Object(j.jsx)("td",{children:t.room}),t.exp?Object(j.jsxs)("td",{className:"exp",children:[t.exp,Object(j.jsx)("span",{className:"exp-tooltip",children:Object(j.jsxs)("button",{type:"button",className:"btn btn-danger",title:"Remove Battery",onClick:function(){return function(e){var t={id:e.id,type:e.type,name:e.name,room:e.room,exp:""};localStorage.setItem("device-".concat(e.id),JSON.stringify(t)),a()}(t)},children:["Pop ",Object(j.jsx)("i",{className:"fa fa-battery"})]})})]}):Object(j.jsx)("td",{children:"no batteries"}),"home"!==e.page&&Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)(l.b,{to:"/forms/update/device/"+t.id,className:"btn btn-primary",children:"Update"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return o(t.id)},children:"Delete"})]})})]},t.id)}))})]}):c&&c.map((function(t){return Object(j.jsx)("table",{className:"table "+d(),children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Type:"})}),Object(j.jsx)("td",{children:t.type})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Name:"})}),Object(j.jsx)("td",{children:t.name})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Room:"})}),Object(j.jsx)("td",{children:t.room})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Expires:"})}),Object(j.jsx)("td",{children:t.exp||"no batteries"})]}),"home"!==e.page&&Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("b",{children:"Actions:"})}),Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)(l.b,{to:"/forms/update/device/"+t.id,className:"btn btn-primary",children:"Update"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return o(t.id)},children:"Delete"})]})})]})]})})}))]})}function b(){return Object(j.jsxs)("div",{className:"home p-4",children:[Object(j.jsx)("h3",{className:"display-6 mt-4",children:"Welcome to BattMan - The Battery Manager"}),Object(j.jsx)("div",{className:"devices-table",children:Object(j.jsx)(d,{page:"home"})})]})}var u=c(20),m=c(34);function h(){var e=Object(n.useContext)(p),t=e.setDevices,c=e.darkTheme,s=e.themeStyle,a=Object(n.useContext)(O),i=a.months,l=a.years,o=a.deviceTypes,d=a.roomTypes,b=f(),h=Object(n.useState)(""),x=Object(r.a)(h,2),v=x[0],g=x[1],N=Object(n.useState)(""),y=Object(r.a)(N,2),C=y[0],S=y[1],D=Object(n.useState)(""),F=Object(r.a)(D,2),k=F[0],T=F[1],w=Object(n.useState)(""),E=Object(r.a)(w,2),B=E[0],M=E[1],R=Object(n.useState)(""),A=Object(r.a)(R,2),J=A[0],I=A[1],P=function(e){return g(e.target.value)},U=function(e){return S(e.target.value)},Y=function(e){return T(e.target.value)},L=function(e){return M(e.target.value)},W=function(e){return I(e.target.value)},z=function(){return c?"":"bg-white"};return Object(j.jsxs)("div",{className:"form",children:[b>666?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"device-type",children:"Device type:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-type",value:v,onChange:P,children:[Object(j.jsx)("option",{}),o.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"device-name",children:"Device name (optional):"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"device-name",value:C,onChange:U})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"device-room",children:"Room this device is in:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-room",value:k,onChange:Y,children:[Object(j.jsx)("option",{}),d.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"battery-exp",children:"Battery expiration date (optional):"}),Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-month",value:B,onChange:L,children:[Object(j.jsx)("option",{children:"Month"}),i.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]}),Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-year",value:J,onChange:W,children:[Object(j.jsx)("option",{children:"Year"}),l.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"device-type",children:"Device type:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-type",value:v,onChange:P,children:[Object(j.jsx)("option",{}),o.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]}),Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"device-name",children:"Device name (optional):"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"device-name",value:C,onChange:U}),Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"device-room",children:"Room this device is in:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-room",value:k,onChange:Y,children:[Object(j.jsx)("option",{}),d.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]}),Object(j.jsx)("label",{className:"input-group-text "+z(),style:s(),htmlFor:"battery-exp",children:"Battery expiration date (optional):"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-month",value:B,onChange:L,children:[Object(j.jsx)("option",{children:"Month"}),i.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-year",value:J,onChange:W,children:[Object(j.jsx)("option",{children:"Year"}),l.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})})]})]}),Object(j.jsx)("div",{className:"d-grid",children:Object(j.jsx)("button",{className:"btn btn-lg btn-primary",onClick:function(){var e={id:Object(m.a)(),type:v,name:C,room:k,exp:B+" "+J};t((function(t){return[].concat(Object(u.a)(t),[e])})),localStorage.setItem("device-".concat(e.id),JSON.stringify(e)),g(""),S(""),T(""),M(""),I("")},children:"Add Device"})})]})}function x(e){var t=Object(n.useContext)(p),c=t.devices,s=t.getDevices,a=t.darkTheme,i=t.themeStyle,l=Object(n.useContext)(O),o=l.months,d=l.years,b=l.deviceTypes,u=l.roomTypes,m=f(),h=Object(n.useState)(""),x=Object(r.a)(h,2),v=x[0],g=x[1],N=Object(n.useState)(""),y=Object(r.a)(N,2),C=y[0],S=y[1],D=Object(n.useState)(""),F=Object(r.a)(D,2),k=F[0],T=F[1],w=Object(n.useState)(""),E=Object(r.a)(w,2),B=E[0],M=E[1],R=Object(n.useState)(""),A=Object(r.a)(R,2),J=A[0],I=A[1],P=function(e){return g(e.target.value)},U=function(e){return S(e.target.value)},Y=function(e){return T(e.target.value)},L=function(e){return M(e.target.value)},W=function(e){return I(e.target.value)};Object(n.useEffect)((function(){var t=c.find((function(t){return t.id===e.match.params.id}));g(t.type),S(t.name),T(t.room),""!==t.exp&&(M(t.exp.slice(0,3)),I(t.exp.slice(-4)))}),[c,e.match.params.id]);var z=function(){return a?"":"bg-white"};return Object(j.jsxs)("div",{className:"form",children:[m>666?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"device-type",children:"Device type:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-type",value:v,onChange:P,children:[Object(j.jsx)("option",{}),b.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"device-name",children:"Device name (optional):"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"device-name",value:C,onChange:U})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"device-room",children:"Room this device is in:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-room",value:k,onChange:Y,children:[Object(j.jsx)("option",{}),u.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"battery-exp",children:"Battery expiration date (optional):"}),Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-month",value:B,onChange:L,children:[Object(j.jsx)("option",{children:"Month"}),o.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]}),Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-year",value:J,onChange:W,children:[Object(j.jsx)("option",{children:"Year"}),d.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"device-type",children:"Device type:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-type",value:v,onChange:P,children:[Object(j.jsx)("option",{}),b.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]}),Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"device-name",children:"Device name (optional):"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"device-name",value:C,onChange:U}),Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"device-room",children:"Room this device is in:"}),Object(j.jsxs)("select",{className:"form-select",id:"device-room",value:k,onChange:Y,children:[Object(j.jsx)("option",{}),u.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]}),Object(j.jsx)("label",{className:"input-group-text "+z(),style:i(),htmlFor:"battery-exp",children:"Battery expiration date (optional):"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-month",value:B,onChange:L,children:[Object(j.jsx)("option",{children:"Month"}),o.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("select",{className:"form-select",id:"battery-exp-year",value:J,onChange:W,children:[Object(j.jsx)("option",{children:"Year"}),d.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})})]})]}),Object(j.jsx)("div",{className:"d-grid",children:Object(j.jsx)("button",{className:"btn btn-lg btn-primary",onClick:function(){var t={id:e.match.params.id,type:v,name:C,room:k,exp:B+" "+J};localStorage.setItem("device-".concat(e.match.params.id),JSON.stringify(t)),s(),g(""),S(""),T(""),M(""),I("")},children:"Update Device"})})]})}c(31);var p=Object(n.createContext)(null),O=Object(n.createContext)(null);function v(){return window.innerWidth}function f(){var e=Object(n.useState)(v()),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){function e(){s(v())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c}function g(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),i=Object(r.a)(a,2),u=i[0],m=i[1],v=function(){var e=[];for(var t in localStorage)/device/.test(t)&&e.push(JSON.parse(localStorage.getItem(t)));s(e)};Object(n.useEffect)((function(){v()}),[]),Object(n.useEffect)((function(){var e=document.getElementsByTagName("body")[0];e.style.backgroundColor=u?"#000":"#fff"}),[]);var f=function(){return{backgroundColor:u?"#000":"#fff",color:u?"#fff":"#000"}},g=Object(n.useMemo)((function(){return{devices:c,setDevices:s,getDevices:v,darkTheme:u,themeStyle:f}}),[c,u]),N={months:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],years:[2021,2022,2023,2024,2025,2026,2027,2028,2029,2030],deviceTypes:["Remote","Pedal","Handheld","Flashlight","Watch","Clock","Other"],roomTypes:["Living Room","Kitchen","Bedroom","Bathroom","Garage","Office","Other"]};return Object(j.jsx)(l.a,{children:Object(j.jsxs)("div",{className:"container-fluid",style:f(),children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-10 col-lg-11",children:Object(j.jsx)("h1",{className:"display-1",children:"BattMan"})}),Object(j.jsx)("div",{className:"col-2 col-lg-1",children:Object(j.jsx)("button",{className:"btn btn-theme "+(u?"btn-light":"btn-dark"),title:"Toggle Dark Theme",onClick:function(){return m((function(e){return!e}))},children:u?Object(j.jsx)("i",{className:"fa fa-sun-o"}):Object(j.jsx)("i",{className:"fa fa-moon-o"})})})]}),Object(j.jsxs)("nav",{className:"btn-group",children:[Object(j.jsx)(l.b,{to:"/",className:"btn btn-light",children:"Home"}),Object(j.jsx)(l.b,{to:"/table/devices",className:"btn btn-light",children:"Edit Devices"}),Object(j.jsx)(l.b,{to:"/forms/add/device",className:"btn btn-light",children:"Add Device"})]}),Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)(p.Provider,{value:g,children:[Object(j.jsx)(o.a,{exact:!0,path:"/",component:b}),Object(j.jsx)(o.a,{path:"/table/devices",component:d}),Object(j.jsxs)(O.Provider,{value:N,children:[Object(j.jsx)(o.a,{path:"/forms/add/device",component:h}),Object(j.jsx)(o.a,{path:"/forms/update/device/:id",component:x})]})]})})]})})}i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.4b620fa8.chunk.js.map